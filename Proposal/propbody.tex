
% Draft #1 (final?)
\vfil

\centerline{\Large Computer Science Project Proposal}
\vspace{0.4in}
\centerline{\Large Constructing 3D models from image sequences}
\vspace{0.4in}
\centerline{\large I. G. Sorescu, Newnham College, igs23}
\vspace{0.3in}
\centerline{\large Originator: I. G. Sorescu}
\vspace{0.3in}
\centerline{\large 22$^{nd}$ October 2014}

\vfil


\noindent
{\bf Project Supervisor:} K. Palyutina
\vspace{0.2in}

\noindent
{\bf Director of Studies:} Dr J. K. Fawcett
\vspace{0.2in}
\noindent
 
\noindent
{\bf Project Overseers:} Dr~A.~C.~Rice  \& Dr~T.~G.~Griffin


% Main document

\section*{Introduction and Description of the Work}

The aim of this project is to extract a partial 3D model of a small object from a sequence of plain images and then to export the model into a 3D geometry format such as PLY. The resulting file can then be rendered and processed by MeshLab or similar mesh processing software.\\
The main focus of the project is to obtain a partial wireframe model from a sequence of images taken from pre-established locations with respect to the object. An open-sorce ray tracer will be used in order to set up a static scene consisting of the object to be reconstructed placed in a well-lit environment against a white background. The sequence of images to be inputted into the 3D model constructor will be acquired by taking digital snapshots of this scene from the pre-established locations, thus imitating the process of photographing the object with a pre-calibrated camera. The project is designed to be later extended to support real camera input.\\  
What follows is a description of a technique which might be used in order to obtain the image sequences. The setup is described here in terms of photographing real objects in order to emphasize the fact that the project can naturally be extended to interact with a real camera. However, for the purposes of this project, this technique will be imitated by digitally constructing the equivalent snapshots of an existing 3D model in an attempt to reconstruct its shape:\\
{\emph Define an origin on a perfectly horizontal table and place the camera there facing a white background. Place an object of a pre-determined maximum height at a fixed distance from the origin in front of the camera. Take the first picture. Rotate the object by 30 degrees counter clockwise and take the second picture. Repeat until 12 pictures are taken. Input the pictures in the order in which they were taken. This process is assumed to have taken place in well-lit environment with no major light differences between pictures in the same set.}\\
The outcome of any 3D model constructor used on this input is considered to be a partial solution because the input provides no information about the shape of the object as seen from above and below.  


\section*{Starting Point}
I am planning to use an open-source ray tracer such as POV-Ray in order to create image sequences from an existing 3D model in an attempt to recreate its shape. I will also be using the feature detection and feature matching functionalities of OpenCV.

\section*{Resources Required}
Some open source libraries will be used as described in the previous section. They can be downloaded freely from http://www.povray.org/ and http://opencv.org/ respectively.\\
MeshLab will be used in order to view the resulting 3D model. It can be downloaded from http://meshlab.sourceforge.net/.\\

No special hardware resources will be required unless the extension to provide support for camera interaction is undertaken. The project is aimed at home users so the digital camera to be used should have no specific requirements. To ensure this I will be using my own cameras.\\

I am also planning to use my own machine, doing regular backups to github and to PWF. I can resume the development on any of the machines in the Computer Lab should my machine suddenly fail. 

\section*{Substance and Structure of the Project}
To ensure the successful completion of the project, the workload has been divided into the following manageable chunks:
\begin{enumerate}
\item {\bf Research:} Get familiarized with epipolar geometry and with the algorithms mentioned in this section. 
\item {\bf Module design:} Split the project into modules, establish how they interact, construct the corresponding UML diagrams. 
\item {\bf Test harness:} Implement the test harness using POV-Ray. Given a 3D model, the test harness will generate the image sequences to be inputted into the partial 3D model constructor by taking snapshots of the rendered model from each of the pre-established locations in turn. This module will be used in order to evaluate the success of the project by adding a measured error to the snapshots and measuring the accuracy of the outputted 3D model. Error can be added by rendering the object at a distance $\epsilon$ from the specified location, or by adding blur etc.
\item {\bf First prototype:} Implement triangularization in order to get the first prototype of a partial 3D constructor.
\item {\bf Refinement of the partial 3D constructor:} This step consists of iteratively improving the current prototype in order to get a more complete and more accurate 3D model. Some of the possible prototypes are listed below. They need not be all implemented if the current results are satisfactory. If multiple satisfactory prototypes are implemented they will be evaluated individually and included in the final solution. The users can then specify which one they would like to use. 
	\begin{itemize}
	\item Prototype \#{2}: Implement dense stereo matching [1][2] to estimate the depth of each point from a view point. Convert the results into a depth map [2]. The depth map can be directly used as a 3D model by displaying darker shades for more distant points. However, this cannot be exported into a common 3D geometry format so it should be used in conjunction with the algorithms described in prototype \#{3} to provide a complete solution. I consider this partial solution to be a prototype by itself because the ability to visualize the output enables me to evaluate the results of this intermediate step. This might prove useful in order to discuss whether using meshes was the right choice since many other approaches could be taken instead.
	\item Prototype \#{3}: Construct the corresponding 3D mesh using depth map constructed in prototype \#{2}. A possible approach consists of overlying a 2D triangular mesh on top of one of the images and then wrapping the vertices of the triangles to correspond to the values in the depth map [1].
	\item Prototype \#{4}: Use a volumetric depth map integration approach [1].
	\item Prototype \#{5}: Implement a Kalman filter [1].  
	\end{itemize}
\item {\bf Evaluation:} Evaluate the results using the test harness by adding a measured error to the input and comparing the output to that obtained from the equivalent error-free images.
\item {\bf Write the dissertation}     
\end{enumerate}

\section*{Success Criteria}
The following must necessarily be achieved for the project to be considered a success:
\begin{itemize}
\item A tool for constructing 3D models from a sequence of digital snapshots produced as described in the introduction has been implemented. The tool will be evaluated and shown to be working by applying it on a input consisting of consistent snapshots of a cube.
\end{itemize}

\section*{Possible Extensions}
\begin{itemize}
\item Add a camera module in order to provide support for real camera input (instead of using digital snapshots generated using a ray tracer).
\item Add shadowing to the outputted 3D mesh. 
\item Add texture to the outputted 3D mesh.
\item Implement structure-from-motion and self-calibration: this would allow the users to input virtually any set of pictures representing an object as long as any consecutive pictures have a large overlap (i.e.: no need to pre-establish the camera pose for each photo in the sequence).
\end{itemize}

\section*{Timetable}

\subsection*{Michaelmas Weeks 1 - 2}
Read relevant literature and plan the project.\\
{\bf Milestone:} Submit project proposal on 24/10.

\subsection*{Michaelmas Weeks 3 - 5}
Further research: gain a deeper understanding of triangularization, epipolar geometry, stereo matching, constructing depth maps and constructing 3D meshes from a depth map. If the time allows it also read about volumetric reconstruction and Kalman filters.  \\
{\bf Milestone:} Finish writing an outline of the key concepts involved in the project on 21/10 and add it to the dissertation draft.

\subsection*{Michaelmas Weeks 6 - 7}
\begin{itemize}
\item Plan and design the structure of the project: split into modules and establish how they interact.
\item Get familiarized with the open source libraries used: play with the feature matching methods from OpenCV and with POV-Ray.
\end{itemize}
{\bf Milestone:} Finish constructing UML diagrams on 28/11 and add them to the dissertation draft.

\subsection*{Michaelmas Week 8}
Catch-up time.
	
\subsection*{Vacation Weeks 1 - 2}
Implement the test harness.\\
{\bf Milestone:} Finish implementing the test harness on 19/12.

\subsection*{Vacation Weeks 3 - 4}
Implement the first prototype.\\
{\bf Milestone:} Have a basic but working implementation by 02/01.
	
\subsection*{Vacation Weeks 5 - 6}
Catch-up time.	

\subsection*{Lent Weeks 1 - 4}
Refine the solution. Implement as many of the prototypes defined in the \emph{Structure and Substance of the Project} section as considered necessary.\\ 
{\bf Milestone:} Finish implementation of the core project by 13/02.

\subsection*{Lent Weeks 5 - 7}
Catch-up time. This is a good period to start working on the extensions if time allows it.\\
{\bf Milestone:} Have a complete and working implementation by 06/03.

\subsection*{Lent Week 8 - Vacation Week 1}
Evaluate the project. Construct performance graphs.\\
{\bf Milestone:} Finish writing an outline of the evaluation section (including evaluation graphs) by 20/03 and add it to the dissertation draft.

\subsection*{Vacation Weeks 2 - 5}
Write the dissertation.\\
{\bf Milestone:} Have an imperfect but submittable dissertation draft by 17/04.

\subsection*{Vacation Week 6 - Easter Week 1}
Refine the dissertation. Progressively do modifications after getting feedback from supervisor.\\
{\bf Milestone:} Finish writing and proof-reading the dissertation by 01/05.

\subsection*{Easter Weeks 1 - 2}  
Safety slot. Print and bind the dissertation.\\
{\bf Milestone:} Submit the dissertation by 08/05

\section*{References}

\begin{description}

\item{[1]}M. Pollefeys, \emph{3D from Image Sequences: Calibration, Motion and Shape Recovery}, Mathematical Models of Computer Vision: The Handbook, N. Paragios, Y. Chen, O. Faugeras, Springer, 2005.

\item{[2]} R. Szeliski, \emph{Computer Vision: Algorithms and Applications}, Springer Verlag 2011.
\end{description}

